# ============================================================================
# Money Manager Backend - Environment Configuration
# ============================================================================
# Copy this file to .env and configure with your actual values
# NEVER commit .env to version control - it contains sensitive data
# ============================================================================

# ============================================================================
# SPRING PROFILE SELECTION
# ============================================================================
# Options: dev (H2 in-memory), prod (PostgreSQL)
SPRING_PROFILES_ACTIVE=dev

# ============================================================================
# SERVER CONFIGURATION
# ============================================================================
SERVER_PORT=8080
SERVER_CONTEXT_PATH=/api

# ============================================================================
# DATABASE CONFIGURATION - DEVELOPMENT (H2)
# ============================================================================
# Used when SPRING_PROFILES_ACTIVE=dev
# H2 is an in-memory database - data is lost on restart
SPRING_DATASOURCE_URL=jdbc:h2:mem:testdb
SPRING_DATASOURCE_DRIVER_CLASS_NAME=org.h2.Driver
SPRING_DATASOURCE_USERNAME=sa
SPRING_DATASOURCE_PASSWORD=

# H2 Console (Development Only)
H2_CONSOLE_ENABLED=true

# ============================================================================
# DATABASE CONFIGURATION - PRODUCTION (PostgreSQL)
# ============================================================================
# Used when SPRING_PROFILES_ACTIVE=prod
# Uncomment and configure these when deploying to production:

# SPRING_DATASOURCE_URL=jdbc:postgresql://localhost:5432/MoneyManager
# SPRING_DATASOURCE_DRIVER_CLASS_NAME=org.postgresql.Driver
# SPRING_DATASOURCE_USERNAME=postgres
# SPRING_DATASOURCE_PASSWORD=your_secure_password_here

# Database Connection Pool Settings
DB_MAX_POOL_SIZE=20
DB_MIN_IDLE=5
DB_CONNECTION_TIMEOUT=20000
DB_IDLE_TIMEOUT=300000
DB_MAX_LIFETIME=1200000

# ============================================================================
# JPA/HIBERNATE CONFIGURATION
# ============================================================================
# DDL Auto Options: validate, update, create, create-drop
# PRODUCTION: Use 'validate' after initial schema creation
# DEVELOPMENT: Use 'update' for automatic schema updates
JPA_DDL_AUTO=update
JPA_SHOW_SQL=false
JPA_FORMAT_SQL=false
JPA_DIALECT=org.hibernate.dialect.H2Dialect
# For PostgreSQL, use: org.hibernate.dialect.PostgreSQLDialect

# JPA Performance Settings
JPA_BATCH_SIZE=20
JPA_FETCH_SIZE=50

# ============================================================================
# JWT SECURITY CONFIGURATION
# ============================================================================
# CRITICAL: Generate a strong secret for production!
# Generate using: openssl rand -base64 64
# Minimum length: 512 bits (64 characters)
JWT_SECRET=your-secret-key-change-in-production-must-be-at-least-512-bits-this-is-a-very-long-secret-key-for-hs512-algorithm-security

# JWT Token Expiration (milliseconds)
# Default: 86400000 = 24 hours
JWT_EXPIRATION=86400000

# JWT Refresh Token Expiration (milliseconds)
# Default: 604800000 = 7 days
JWT_REFRESH_EXPIRATION=604800000

# ============================================================================
# CORS CONFIGURATION
# ============================================================================
# Comma-separated list of allowed origins
# PRODUCTION: Replace with your actual frontend domain(s)
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:4200

# Allowed HTTP methods
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS

# Allowed headers (* allows all)
CORS_ALLOWED_HEADERS=*

# Allow credentials (cookies, authorization headers)
CORS_ALLOW_CREDENTIALS=true

# Preflight request cache duration (seconds)
CORS_MAX_AGE=3600

# ============================================================================
# LOGGING CONFIGURATION
# ============================================================================
# Log Levels: TRACE, DEBUG, INFO, WARN, ERROR, OFF
LOG_LEVEL_ROOT=INFO
LOG_LEVEL_APP=INFO
LOG_LEVEL_SPRING_WEB=INFO
LOG_LEVEL_SQL=INFO

# Log file path
LOG_FILE_PATH=logs/app.log

# ============================================================================
# ACTUATOR ENDPOINTS
# ============================================================================
# Comma-separated list of endpoints to expose
ACTUATOR_ENDPOINTS=health,info,metrics

# Health endpoint detail level: always, when-authorized, never
ACTUATOR_HEALTH_SHOW_DETAILS=when-authorized

# ============================================================================
# PRODUCTION DEPLOYMENT EXAMPLE
# ============================================================================
# Example configuration for production deployment:
#
# SPRING_PROFILES_ACTIVE=prod
# SERVER_PORT=8080
# SPRING_DATASOURCE_URL=jdbc:postgresql://your-db-host:5432/MoneyManager
# SPRING_DATASOURCE_DRIVER_CLASS_NAME=org.postgresql.Driver
# SPRING_DATASOURCE_USERNAME=your_db_user
# SPRING_DATASOURCE_PASSWORD=your_secure_db_password
# JPA_DDL_AUTO=validate
# JPA_DIALECT=org.hibernate.dialect.PostgreSQLDialect
# JWT_SECRET=<generate-using-openssl-rand-base64-64>
# CORS_ALLOWED_ORIGINS=https://yourdomain.com,https://www.yourdomain.com
# LOG_LEVEL_ROOT=WARN
# LOG_LEVEL_APP=INFO
# LOG_LEVEL_SPRING_WEB=WARN
# LOG_LEVEL_SQL=WARN
# H2_CONSOLE_ENABLED=false
# ============================================================================
